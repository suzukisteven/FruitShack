<!DOCTYPE html>
<html>
  <head>
    <title>ShopiBuy</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag    'https://use.fontawesome.com/releases/v5.5.0/css/all.css' %>
    <%= javascript_include_tag 'https://code.jquery.com/jquery-3.3.1.slim.min.js' %>
    <%= javascript_include_tag 'https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' %>
    <%= javascript_include_tag 'https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="/"><i class="fas fa-truck text-warning"></i> ShopiBuy</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse d-flex justify-content-between" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <form class="form-inline my-2 my-lg-0">
            <input id="main-search" class="form-control mr-sm-2" type="search" placeholder="Try searching for 'Macbook Pro'" aria-label="Search">
            <button class="btn btn-outline-warning my-2 my-sm-0" type="submit">Search</button>
          </form>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Products</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
          <% if signed_in? -%>
          <% else -%>
            <li class="nav-item">
              <%= link_to "Sign Up", signup_path, class:"nav-link text-primary"%>
            </li>
          <% end -%>
        </ul>
        <% if signed_in? -%>
          <%= link_to "Sign Out", logout_path, class:"btn btn-outline-danger ml-3" %>
        <% else -%>
          <%= link_to "Sign In", login_path, class:"btn btn-primary ml-3 mr-3" %>
          <%= link_to "Sign in with Google+", "/auth/google_oauth2", class:"btn btn-outline-primary"%>
        <% end -%>
      </div>
    </nav>

    <!-- Flash Messages for notice and errors -->
    <div id="flash">
      <% flash.each do |key, value| -%>
      <div class="container mx-auto">
        <div class="<%= flash_class(key) %> mt-3 text-center" id="flash_<%= key %>"><%= h value %></div>
      </div>
      <% end %>
    </div>

    <div id="main-content-section" class="container">
      <%= yield %>
    </div>

    <footer class="footer fixed-bottom bg-dark">
      <div class="container">
        <span class="text-center text-white">ShopiBuy 2018 &copy All Rights Reserved.</span>
      </div>
    </footer>

  </body>
</html>
